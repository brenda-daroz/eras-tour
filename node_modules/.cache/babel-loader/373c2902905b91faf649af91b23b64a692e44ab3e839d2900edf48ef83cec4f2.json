{"ast":null,"code":"import _objectSpread from\"/Users/brenda/code/brenda-daroz/eras-tour/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/brenda/code/brenda-daroz/eras-tour/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/brenda/code/brenda-daroz/eras-tour/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/brenda/code/brenda-daroz/eras-tour/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/brenda/code/brenda-daroz/eras-tour/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import'./App.css';import styled from\"styled-components\";import Tracks from'./components/Tracks';import{handleAlbums,putAlbum}from'./services/handleAlbums';import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-wrap: wrap;\\n\"])));function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),albums=_useState2[0],setAlbums=_useState2[1];var getAlbums=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return handleAlbums();case 3:response=_context.sent;setAlbums(response);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function getAlbums(){return _ref.apply(this,arguments);};}();useEffect(function(){getAlbums();},[]);function toggleTrackSpecial(album,id){return _objectSpread(_objectSpread({},album),{},{tracks:album.tracks.map(function(track){return track.id===Number(id)&&!track.fixed?_objectSpread(_objectSpread({},track),{},{special:!track.special}):_objectSpread({},track);})});}var handleToggle=function handleToggle(albumName){return function(id){var selectedAlbum=albums.find(function(album){return album.title===albumName;});var updatedAlbum=toggleTrackSpecial(selectedAlbum,id);putAlbum(updatedAlbum);setAlbums(albums.map(function(album){return album.title===albumName?updatedAlbum:album;}));};};return/*#__PURE__*/_jsx(Container,{children:albums.map(function(album){return/*#__PURE__*/_jsx(Tracks,{title:album.title,image:album.cover,color:album.color,tracks:album.tracks,handleToggle:handleToggle(album.title)},album.title);})});}export default App;","map":{"version":3,"names":["styled","Tracks","handleAlbums","putAlbum","useEffect","useState","jsx","_jsx","Container","div","_templateObject","_taggedTemplateLiteral","App","_useState","_useState2","_slicedToArray","albums","setAlbums","getAlbums","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","t0","console","log","stop","apply","arguments","toggleTrackSpecial","album","id","_objectSpread","tracks","map","track","Number","fixed","special","handleToggle","albumName","selectedAlbum","find","title","updatedAlbum","children","image","cover","color"],"sources":["/Users/brenda/code/brenda-daroz/eras-tour/src/App.js"],"sourcesContent":["import './App.css';\nimport styled from \"styled-components\";\nimport Tracks from './components/Tracks';\nimport { handleAlbums, putAlbum } from './services/handleAlbums';\nimport { useEffect, useState } from \"react\";\n\n\nconst Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nfunction App() {\n\n  const [albums, setAlbums] = useState([]);\n\n  const getAlbums = async () => {\n    try {\n      const response = await handleAlbums();\n      setAlbums(response)\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  useEffect(() => {\n    getAlbums()\n  }, [])\n\n  function toggleTrackSpecial(album, id) {\n    return {\n      ...album, tracks: album.tracks.map(track => {\n        return track.id === Number(id) && !track.fixed ? { ...track, special: !track.special } : { ...track };\n      })\n    };\n  }\n\n  const handleToggle = (albumName) => {\n    return (id) => {\n      const selectedAlbum = albums.find(album => album.title === albumName)\n      const updatedAlbum = toggleTrackSpecial(selectedAlbum, id)\n      putAlbum(updatedAlbum)\n      setAlbums(albums.map(album => {\n        return album.title === albumName ? updatedAlbum : album;\n      })\n      )\n\n    }\n  }\n\n  return (\n    <Container>\n      {albums.map(album => {\n\n        return (\n          <Tracks\n            title={album.title}\n            image={album.cover}\n            color={album.color}\n            tracks={album.tracks}\n            handleToggle={handleToggle(album.title)} key={album.title} />\n        )\n\n      })}\n    </Container>\n  );\n\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}